<!DOCTYPE html>
<html lang="en">

  <head>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WT7C9PW68E"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WT7C9PW68E');
</script>
    <base href="https://browsergames.com/play/slitherio">
<title>Play Ghost.io</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    font-family: Arial, sans-serif;
    background-color: #000;
  }
  #game-container {
    width: 100%;
    height: 100vh;
    position: relative;
  }
  #game-canvas {
    width: 100%;
    height: 100%;
    background-color: #111;
  }
  #start-screen {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 1);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #fff;
    z-index: 1000;
  }
  #start-screen h1 {
    font-size: 4em;
    margin-bottom: 20px;
    text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff;
  }
  #start-screen p {
    font-size: 1.5em;
    margin-bottom: 30px;
    text-shadow: 0 0 5px #fff;
  }
  #player-name {
    font-size: 1.2em;
    padding: 5px 10px;
    margin-bottom: 20px;
    border: none;
    border-radius: 5px;
    text-align: center;
  }
  #play-button {
    font-size: 1.5em;
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  #play-button:hover {
    background-color: #45a049;
  }
  #leaderboard-button, #back-to-start {
    font-size: 1.2em;
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
    margin-top: 10px;
  }
  #leaderboard-button:hover, #back-to-start:hover {
    background-color: #45a049;
  }
  #leaderboard-screen {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 1);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #fff;
    z-index: 1000;
  }
  #full-leaderboard-list {
    list-style-type: none;
    padding: 0;
    width: 80%;
    max-width: 400px;
  }
  #full-leaderboard-list li {
    font-size: 1.2em;
    margin-bottom: 10px;
    padding: 5px;
    background: rgba(255,255,255,0.1);
    border-radius: 5px;
  }
  #overlay {
    position: absolute;
    top: 10px;
    left: 10px;
    background: rgba(255,255,255,0.1);
    color: #fff;
    padding: 10px;
    border-radius: 5px;
  }
  #overlay a {
    color: #4CAF50;
    text-decoration: none;
  }
  #overlay a:hover {
    text-decoration: underline;
  }
  #score {
    position: absolute;
    top: 10px;
    left: 10px;
    background: rgba(255,255,255,0.1);
    color: #fff;
    padding: 10px;
    border-radius: 5px;
  }
  #radar {
    position: absolute;
    bottom: 20px;
    right: 20px;
    width: 150px;
    height: 150px;
    background: rgba(255,255,255,0.1);
    border-radius: 50%;
  }
  #leaderboard {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(255,255,255,0.1);
    color: #fff;
    padding: 10px;
    border-radius: 5px;
    width: 150px;
  }
  #leaderboard h3 {
    margin-top: 0;
    text-align: center;
  }
  #leaderboard ol {
    padding-left: 20px;
    margin-bottom: 0;
  }
  #game-over {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.8);
    color: #fff;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    display: none;
  }
  #restart-button {
    margin-top: 20px;
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  #pause-menu {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.8);
    color: #fff;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    z-index: 1001;
  }
  #pause-menu button {
    margin: 10px;
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  #pause-menu button:hover {
    background-color: #45a049;
  }
  #settings-panel {
    margin-top: 20px;
    text-align: left;
  }
  #volume-slider {
    width: 80%;
    margin: 10px 0;
  }
  #volume-value {
    display: inline-block;
    width: 40px;
    text-align: right;
  }
  .crown {
    color: gold;
    text-shadow: 0 0 3px #000;
  }
  #touch-controls {
    position: absolute;
    bottom: 20px;
    left: 20px;
    display: none;
  }
  .touch-button {
    width: 60px;
    height: 60px;
    background-color: rgba(255, 255, 255, 0.3);
    border: 2px solid white;
    border-radius: 50%;
    margin: 5px;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    font-size: 24px;
    color: white;
    user-select: none;
  }
</style>
</head>
<body>
  <div id="game-container">
    <div id="start-screen">
      <h1>Ghost.io</h1>
      <p>Become the spookiest ghost in the arena!</p>
      <input type="text" id="player-name" placeholder="Enter your name" maxlength="15">
      <button id="play-button">Play Now</button>
      <button id="leaderboard-button">Leaderboard</button>
    </div>
    <div id="leaderboard-screen" style="display: none;">
      <h2>Leaderboard</h2>
      <ol id="full-leaderboard-list"></ol>
      <button id="back-to-start">Back to Start</button>
    </div>
    <canvas id="game-canvas"></canvas>
    <div id="score">Score: <span id="score-value">0</span></div>
    <div id="radar"></div>
    <div id="leaderboard">
      <h3>Leaderboard</h3>
      <ol id="leaderboard-list"></ol>
    </div>
    <div id="game-over">
      <h2>Game Over</h2>
      <p>Your final score: <span id="final-score"></span></p>
      <button id="restart-button">Restart</button>
    </div>
    <div id="pause-menu" style="display: none;">
      <h2>Game Paused</h2>
      <button id="resume-button">Resume</button>
      <button id="settings-button">Settings</button>
      <button id="quit-button">Quit</button>
      <div id="settings-panel" style="display: none;">
        <h3>Settings</h3>
        <label for="volume-slider">Volume:</label>
        <input type="range" id="volume-slider" min="0" max="100" value="50">
        <span id="volume-value">50%</span>
      </div>
    </div>
    <div id="touch-controls">
      <div class="touch-button" id="touch-up">‚Üë</div>
      <div class="touch-button" id="touch-down">‚Üì</div>
      <div class="touch-button" id="touch-left">‚Üê</div>
      <div class="touch-button" id="touch-right">‚Üí</div>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('game-canvas');
    const ctx = canvas.getContext('2d');
    const scoreElement = document.getElementById('score-value');
    const radarCanvas = document.createElement('canvas');
    const radarCtx = radarCanvas.getContext('2d');
    const radar = document.getElementById('radar');
    const leaderboardList = document.getElementById('leaderboard-list');
    const gameOverScreen = document.getElementById('game-over');
    const finalScoreElement = document.getElementById('final-score');
    const restartButton = document.getElementById('restart-button');
    const startScreen = document.getElementById('start-screen');
    const playerNameInput = document.getElementById('player-name');
    const playButton = document.getElementById('play-button');
    const leaderboardButton = document.getElementById('leaderboard-button');
    const leaderboardScreen = document.getElementById('leaderboard-screen');
    const fullLeaderboardList = document.getElementById('full-leaderboard-list');
    const backToStartButton = document.getElementById('back-to-start');
    const pauseMenu = document.getElementById('pause-menu');
    const resumeButton = document.getElementById('resume-button');
    const quitButton = document.getElementById('quit-button');
    const settingsButton = document.getElementById('settings-button');
    const settingsPanel = document.getElementById('settings-panel');
    const volumeSlider = document.getElementById('volume-slider');
    const volumeValue = document.getElementById('volume-value');
    const touchControls = document.getElementById('touch-controls');

    let isPaused = false;
    let volume = 0.5;

    const randomNames = [
      "Spooky", "Boo", "Casper", "Shadow", "Phantom", "Wraith", "Specter", "Shade",
      "Mist", "Vapor", "Haze", "Wisp", "Gloom", "Smokey", "Misty", "Foggy",
      "Cloudy", "Dusty", "Hazy", "Aether", "Spirit", "Soul", "Essence", "Shroud"
    ];

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    radarCanvas.width = 150;
    radarCanvas.height = 150;
    radar.appendChild(radarCanvas);

    let ghost = {
      x: canvas.width / 2,
      y: canvas.height / 2,
      size: 20,
      color: `hsla(${Math.random() * 360}, 100%, 75%, 0.7)`,
      dx: 0,
      dy: 0,
      trail: [],
      trailLength: 10,
      score: 0,
      name: "You"
    };

    let food = [];
    let otherGhosts = [];
    let camera = { x: 0, y: 0 };
    let gameActive = true;

    function showStartScreen() {
      startScreen.style.display = 'flex';
      leaderboardScreen.style.display = 'none';
      gameActive = false;
      updateFullLeaderboard();
    }

    function resetGame() {
      const playerName = playerNameInput.value.trim() || "You";
      ghost = {
        x: canvas.width / 2,
        y: canvas.height / 2,
        size: 20,
        color: `hsla(${Math.random() * 360}, 100%, 75%, 0.7)`,
        dx: 0,
        dy: 0,
        trail: [],
        trailLength: 10,
        score: 0,
        name: playerName
      };
      food = [];
      otherGhosts = [];
      camera = { x: 0, y: 0 };
      gameActive = true;
      gameOverScreen.style.display = 'none';
    }

    function generateFood() {
      if (food.length < 50) {
        food.push({
          x: Math.random() * canvas.width * 2 - canvas.width,
          y: Math.random() * canvas.height * 2 - canvas.height,
          size: 5,
          color: `hsla(${Math.random() * 360}, 100%, 75%, 0.5)`
        });
      }
    }

    function generateOtherGhosts() {
      if (otherGhosts.length < 10) {
        otherGhosts.push({
          x: Math.random() * canvas.width * 2 - canvas.width,
          y: Math.random() * canvas.height * 2 - canvas.height,
          size: 20,
          color: `hsla(${Math.random() * 360}, 100%, 75%, 0.7)`,
          dx: Math.random() * 2 - 1,
          dy: Math.random() * 2 - 1,
          trail: [],
          trailLength: Math.floor(Math.random() * 10) + 5,
          score: 0,
          name: randomNames[Math.floor(Math.random() * randomNames.length)]
        });
      }
    }

    function isMobile() {
      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }

    const touchDirection = { x: 0, y: 0 };

    function handleTouchStart(event) {
      event.preventDefault();
      const touch = event.touches[0];
      mouse.x = touch.clientX;
      mouse.y = touch.clientY;
    }

    function handleTouchMove(event) {
      event.preventDefault();
      const touch = event.touches[0];
      mouse.x = touch.clientX;
      mouse.y = touch.clientY;
    }

    canvas.addEventListener('touchstart', handleTouchStart, false);
    canvas.addEventListener('touchmove', handleTouchMove, false);

    const touchButtons = {
      up: document.getElementById('touch-up'),
      down: document.getElementById('touch-down'),
      left: document.getElementById('touch-left'),
      right: document.getElementById('touch-right')
    };

    Object.entries(touchButtons).forEach(([direction, button]) => {
      button.addEventListener('touchstart', (e) => {
        e.preventDefault();
        switch (direction) {
          case 'up': touchDirection.y = -1; break;
          case 'down': touchDirection.y = 1; break;
          case 'left': touchDirection.x = -1; break;
          case 'right': touchDirection.x = 1; break;
        }
      });

      button.addEventListener('touchend', (e) => {
        e.preventDefault();
        switch (direction) {
          case 'up':
          case 'down': touchDirection.y = 0; break;
          case 'left':
          case 'right': touchDirection.x = 0; break;
        }
      });
    });

    function moveGhost() {
      if (isMobile()) {
        ghost.dx = touchDirection.x * 3;
        ghost.dy = touchDirection.y * 3;
      } else {
        const dx = ghost.x - mouse.x - camera.x;
        const dy = ghost.y - mouse.y - camera.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        ghost.dx = -dx / distance * 3;
        ghost.dy = -dy / distance * 3;
      }

      ghost.x += ghost.dx;
      ghost.y += ghost.dy;

      camera.x = ghost.x - canvas.width / 2;
      camera.y = ghost.y - canvas.height / 2;

      ghost.trail.unshift({x: ghost.x, y: ghost.y});
      if (ghost.trail.length > ghost.trailLength) {
        ghost.trail.pop();
      }
    }

    function moveOtherGhosts() {
      otherGhosts.forEach(otherGhost => {
        otherGhost.x += otherGhost.dx;
        otherGhost.y += otherGhost.dy;

        otherGhost.trail.unshift({x: otherGhost.x, y: otherGhost.y});
        if (otherGhost.trail.length > otherGhost.trailLength) {
          otherGhost.trail.pop();
        }

        if (Math.random() < 0.02) {
          otherGhost.dx = Math.random() * 2 - 1;
          otherGhost.dy = Math.random() * 2 - 1;
        }

        let nearestFood = food.reduce((nearest, f) => {
          const dx = otherGhost.x - f.x;
          const dy = otherGhost.y - f.y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          return distance < nearest.distance ? {food: f, distance: distance} : nearest;
        }, {food: null, distance: Infinity});

        if (nearestFood.food) {
          const dx = nearestFood.food.x - otherGhost.x;
          const dy = nearestFood.food.y - otherGhost.y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          otherGhost.dx += dx / distance * 0.1;
          otherGhost.dy += dy / distance * 0.1;
        }
      });
    }

    function checkCollisions() {
      food = food.filter(f => {
        const dx = ghost.x - f.x;
        const dy = ghost.y - f.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        if (distance < ghost.size + f.size) {
          ghost.trailLength += 1;
          ghost.score += 10;
          scoreElement.textContent = ghost.score;
          return false;
        }
        return true;
      });

      otherGhosts.forEach(otherGhost => {
        food = food.filter(f => {
          const dx = otherGhost.x - f.x;
          const dy = otherGhost.y - f.y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          if (distance < otherGhost.size + f.size) {
            otherGhost.trailLength += 1;
            otherGhost.score += 10;
            return false;
          }
          return true;
        });
      });

      otherGhosts.forEach((otherGhost, index) => {
        const dx = ghost.x - otherGhost.x;
        const dy = ghost.y - otherGhost.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        if (distance < ghost.size + otherGhost.size) {
          if (ghost.trailLength > otherGhost.trailLength) {
            ghost.trailLength += otherGhost.trailLength;
            ghost.score += otherGhost.score;
            scoreElement.textContent = ghost.score;
            otherGhosts.splice(index, 1);
          } else {
            gameOver();
          }
        }
      });

      for (let i = 0; i < otherGhosts.length; i++) {
        for (let j = i + 1; j < otherGhosts.length; j++) {
          const dx = otherGhosts[i].x - otherGhosts[j].x;
          const dy = otherGhosts[i].y - otherGhosts[j].y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          if (distance < otherGhosts[i].size + otherGhosts[j].size) {
            if (otherGhosts[i].trailLength > otherGhosts[j].trailLength) {
              otherGhosts[i].trailLength += otherGhosts[j].trailLength;
              otherGhosts[i].score += otherGhosts[j].score;
              otherGhosts.splice(j, 1);
              j--;
            } else {
              otherGhosts[j].trailLength += otherGhosts[i].trailLength;
              otherGhosts[j].score += otherGhosts[i].score;
              otherGhosts.splice(i, 1);
              i--;
              break;
            }
          }
        }
      }
    }

    function drawGhost(ghost) {
      ctx.fillStyle = ghost.color;
      ctx.beginPath();
      ctx.arc(ghost.x - camera.x, ghost.y - camera.y, ghost.size, 0, Math.PI * 2);
      ctx.fill();

      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(ghost.x - camera.x - 5, ghost.y - camera.y - 5, 5, 0, Math.PI * 2);
      ctx.arc(ghost.x - camera.x + 5, ghost.y - camera.y - 5, 5, 0, Math.PI * 2);
      ctx.fill();

      ctx.fillStyle = '#000';
      ctx.beginPath();
      ctx.arc(ghost.x - camera.x - 5, ghost.y - camera.y - 5, 2, 0, Math.PI * 2);
      ctx.arc(ghost.x - camera.x + 5, ghost.y - camera.y - 5, 2, 0, Math.PI * 2);
      ctx.fill();

      ctx.beginPath();
      ctx.moveTo(ghost.x - camera.x - ghost.size, ghost.y - camera.y + ghost.size);
      for (let i = 0; i < 5; i++) {
        ctx.quadraticCurveTo(
          ghost.x - camera.x - ghost.size + (i * ghost.size / 2) + ghost.size / 4,
          ghost.y - camera.y + ghost.size + 10,
          ghost.x - camera.x - ghost.size + (i + 1) * ghost.size / 2,
          ghost.y - camera.y + ghost.size
        );
      }
      ctx.fillStyle = ghost.color;
      ctx.fill();

      ctx.strokeStyle = ghost.color;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ghost.trail.forEach((point, index) => {
        const alpha = 1 - index / ghost.trail.length;
        ctx.strokeStyle = ghost.color.replace('0.7', alpha);
        if (index === 0) {
          ctx.moveTo(point.x - camera.x, point.y - camera.y);
        } else {
          ctx.lineTo(point.x - camera.x, point.y - camera.y);
        }
      });
      ctx.stroke();

      ctx.fillStyle = '#fff';
      ctx.font = '12px Arial';
      ctx.textAlign = 'center';
      ctx.fillText(ghost.name, ghost.x - camera.x, ghost.y - camera.y - ghost.size - 10);
    }

    function drawCrown(x, y) {
      ctx.fillStyle = 'gold';
      ctx.font = '20px Arial';
      ctx.textAlign = 'center';
      ctx.fillText('üëë', x, y - 40);
    }

    function drawFood() {
      food.forEach(f => {
        ctx.fillStyle = f.color;
        ctx.beginPath();
        ctx.arc(f.x - camera.x, f.y - camera.y, f.size, 0, Math.PI * 2);
        ctx.fill();
      });
    }

    function updateRadar() {
      radarCtx.clearRect(0, 0, radarCanvas.width, radarCanvas.height);
      radarCtx.fillStyle = 'rgba(255, 255, 255, 0.5)';
      radarCtx.beginPath();
      radarCtx.arc(radarCanvas.width / 2, radarCanvas.height / 2, 3, 0, Math.PI * 2);
      radarCtx.fill();

      otherGhosts.forEach(otherGhost => {
        const dx = otherGhost.x - ghost.x;
        const dy = otherGhost.y - ghost.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        if (distance < canvas.width) {
          const x = radarCanvas.width / 2 + (dx / canvas.width) * (radarCanvas.width / 2);
          const y = radarCanvas.height / 2 + (dy / canvas.height) * (radarCanvas.height / 2);
          radarCtx.fillStyle = otherGhost.color;
          radarCtx.beginPath();
          radarCtx.arc(x, y, 2, 0, Math.PI * 2);
          radarCtx.fill();
        }
      });
    }

    function updateLeaderboard() {
      const allGhosts = [ghost, ...otherGhosts].sort((a, b) => b.score - a.score).slice(0, 5);
      leaderboardList.innerHTML = allGhosts.map((g, index) => 
        `<li>${index === 0 ? '<span class="crown">üëë</span> ' : ''}${g.name}: ${g.score}</li>`
      ).join('');
    }

    function getTopPlayer() {
      return [ghost, ...otherGhosts].reduce((top, current) => (current.score > top.score ? current : top));
    }

    function gameOver() {
      gameActive = false;
      finalScoreElement.textContent = ghost.score;
      gameOverScreen.style.display = 'block';
    }

    function togglePause() {
      isPaused = !isPaused;
      if (isPaused) {
        pauseMenu.style.display = 'block';
      } else {
        pauseMenu.style.display = 'none';
      }
    }

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape' && gameActive) {
        togglePause();
      }
    });

    resumeButton.addEventListener('click', () => {
      togglePause();
      gameLoop();
    });

    quitButton.addEventListener('click', () => {
      togglePause();
      showStartScreen();
    });

    settingsButton.addEventListener('click', () => {
      settingsPanel.style.display = settingsPanel.style.display === 'none' ? 'block' : 'none';
    });

    volumeSlider.addEventListener('input', () => {
      volume = volumeSlider.value / 100;
      volumeValue.textContent = `${volumeSlider.value}%`;
      updateVolume();
    });

    function updateVolume() {
      // Here you would update the volume of any audio elements in your game
      // For example, if you had background music:
      // backgroundMusic.volume = volume;
    }

    function gameLoop() {
      if (!gameActive || isPaused) return;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      generateFood();
      generateOtherGhosts();

      moveGhost();
      moveOtherGhosts();

      checkCollisions();

      drawFood();
      otherGhosts.forEach(drawGhost);
      drawGhost(ghost);

      const topPlayer = getTopPlayer();
      drawCrown(topPlayer.x - camera.x, topPlayer.y - camera.y - topPlayer.size - 15);

      updateRadar();
      updateLeaderboard();

      requestAnimationFrame(gameLoop);
    }

    let mouse = { x: 0, y: 0 };
    canvas.addEventListener('mousemove', (event) => {
      mouse.x = event.clientX;
      mouse.y = event.clientY;
    });

    restartButton.addEventListener('click', () => {
      resetGame();
      gameLoop();
    });

    playButton.addEventListener('click', () => {
      if (playerNameInput.value.trim() === "") {
        alert("Please enter a name!");
        return;
      }
      startScreen.style.display = 'none';
      resetGame();
      gameActive = true;
      gameLoop();
    });

    leaderboardButton.addEventListener('click', showLeaderboard);
    backToStartButton.addEventListener('click', hideLeaderboard);

    function showLeaderboard() {
      updateFullLeaderboard();
      startScreen.style.display = 'none';
      leaderboardScreen.style.display = 'flex';
    }

    function hideLeaderboard() {
      leaderboardScreen.style.display = 'none';
      startScreen.style.display = 'flex';
    }

    function updateFullLeaderboard() {
      const allGhosts = [ghost, ...otherGhosts].sort((a, b) => b.score - a.score);
      fullLeaderboardList.innerHTML = allGhosts.map((g, index) => 
        `<li>${index === 0 ? '<span class="crown">üëë</span> ' : ''}${g.name}: ${g.score}</li>`
      ).join('');
    }

    showStartScreen();

    if (isMobile()) {
      touchControls.style.display = 'block';
    }
  </script>
</body></html>